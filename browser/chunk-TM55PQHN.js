import{a as tt,b as et,c as nt}from"./chunk-WCKCIPFR.js";import{a as K,b as Q,c as W,d as X}from"./chunk-QKAHIO55.js";import{a as Z}from"./chunk-UE3EEVB2.js";import{a as G,b as J}from"./chunk-PSIDBIZF.js";import"./chunk-3X5RHMPT.js";import{p as L,q as $,r as R,s as z,t as j,u as F,v as N}from"./chunk-IEZEXGYZ.js";import{Aa as P,Ab as I,Bb as B,Ca as O,Cb as T,Cc as q,Dc as U,Ea as d,Eb as A,Ec as Y,Fa as v,Fc as H,Gb as V,J as p,K as g,Qa as E,Ta as i,Ua as u,Va as k,Wa as C,_ as r,bb as f,ca as s,cb as M,db as w,ga as b,la as h,vb as y,wb as S,xa as _,ya as n,za as e,zb as D}from"./chunk-MQ32LSW5.js";function at(l,a){if(l&1){let t=O();n(0,"mat-card",5),d("click",function(){let o=p(t).$implicit,c=v();return g(c.viewEvent(o.id))}),n(1,"div",6)(2,"div",7)(3,"mat-chip",8),i(4),f(5,"titlecase"),e()()(),n(6,"mat-card-header")(7,"mat-card-title"),i(8),e(),n(9,"mat-card-subtitle")(10,"mat-icon"),i(11,"event"),e(),i(12),f(13,"date"),e()(),n(14,"mat-card-content")(15,"p",9),i(16),e(),n(17,"div",10)(18,"div",11)(19,"mat-icon"),i(20,"location_on"),e(),n(21,"span"),i(22),e()(),n(23,"div",11)(24,"mat-icon"),i(25,"category"),e(),n(26,"span"),i(27),e()()(),n(28,"div",12)(29,"div",13)(30,"span"),i(31),e()(),P(32,"mat-progress-bar",14),e()(),n(33,"mat-card-actions")(34,"button",15),d("click",function(o){let c=p(t).$implicit;return v().viewEvent(c.id),g(o.stopPropagation())}),n(35,"mat-icon"),i(36,"visibility"),e(),i(37," View Details "),e(),n(38,"button",16),d("click",function(o){let c=p(t).$implicit;return v().editEvent(c.id),g(o.stopPropagation())}),n(39,"mat-icon"),i(40,"edit"),e(),i(41," Edit "),e(),n(42,"button",17),d("click",function(o){let c=p(t).$implicit;return v().deleteEvent(c.id),g(o.stopPropagation())}),n(43,"mat-icon"),i(44,"delete"),e(),i(45," Delete "),e()()()}if(l&2){let t=a.$implicit;r(),E("background-image","url("+t.imageUrl+")"),r(2),_("ngClass","status-"+t.status),r(),k(" ",M(5,13,t.status)," "),r(4),u(t.title),r(4),C(" ",w(13,15,t.date,"MMM dd, yyyy")," at ",t.time," "),r(4),u(t.description),r(6),u(t.location),r(5),u(t.category),r(4),C("",t.currentAttendees," / ",t.maxAttendees," attendees"),r(),_("value",t.currentAttendees/t.maxAttendees*100)}}var it=class l{constructor(a,t,m,o,c){this.eventService=a;this.router=t;this.route=m;this.dialog=o;this.snackBar=c}events$;ngOnInit(){this.events$=this.eventService.getEvents(),this.route.queryParams.subscribe(a=>{a.error==="insufficient-permissions"&&(this.snackBar.open("You do not have permission to access that resource","Close",{duration:5e3,panelClass:["error-snackbar"]}),this.router.navigate([],{queryParams:{}}))})}viewEvent(a){this.router.navigate(["/events",a])}editEvent(a){this.router.navigate(["/events","edit",a])}createEvent(){this.router.navigate(["/events","create"])}deleteEvent(a){this.eventService.getEventById(a).subscribe(t=>{if(!t)return;let m={title:"Delete Event",message:`Are you sure you want to delete "${t.title}"? This action cannot be undone.`,confirmText:"Delete Event",cancelText:"Cancel"};this.dialog.open(nt,{width:"400px",data:m,disableClose:!0}).afterClosed().subscribe(c=>{c===!0&&(this.eventService.deleteEvent(a),this.snackBar.open("Event deleted successfully","Close",{duration:3e3,panelClass:["success-snackbar"]}))})})}static \u0275fac=function(t){return new(t||l)(s(Z),s(V),s(A),s(tt),s(G))};static \u0275cmp=b({type:l,selectors:[["app-event-list"]],decls:11,vars:3,consts:[[1,"events-container"],[1,"events-header"],["mat-raised-button","","color","primary",3,"click"],[1,"events-grid"],["class","event-card",3,"click",4,"ngFor","ngForOf"],[1,"event-card",3,"click"],[1,"card-image"],[1,"card-overlay"],[1,"status-chip",3,"ngClass"],[1,"event-description"],[1,"event-details"],[1,"detail-item"],[1,"attendance-info"],[1,"attendance-text"],["mode","determinate",1,"attendance-bar",3,"value"],["mat-button","","color","primary",3,"click"],["mat-button","",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(t,m){t&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),i(3,"Upcoming Events"),e(),n(4,"button",2),d("click",function(){return m.createEvent()}),n(5,"mat-icon"),i(6,"add"),e(),i(7," Create Event "),e()(),n(8,"div",3),h(9,at,46,18,"mat-card",4),f(10,"async"),e()()),t&2&&(r(9),_("ngForOf",M(10,1,m.events$)))},dependencies:[T,y,S,D,I,B,N,L,j,R,F,z,$,U,q,H,Y,X,W,Q,K,et,J],styles:[".events-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.events-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.events-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#1976d2;font-weight:300}.events-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.event-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.card-image[_ngcontent-%COMP%]{height:200px;background-size:cover;background-position:center;position:relative;border-radius:4px 4px 0 0}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem}.status-chip.status-upcoming[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.status-chip.status-ongoing[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.status-chip.status-completed[_ngcontent-%COMP%]{background-color:#9e9e9e;color:#fff}.status-chip.status-cancelled[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin-bottom:.5rem}.mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#666}.mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.event-description[_ngcontent-%COMP%]{margin:1rem 0;color:#555;line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.event-details[_ngcontent-%COMP%]{margin:1rem 0}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;color:#666}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.attendance-info[_ngcontent-%COMP%]{margin:1rem 0}.attendance-text[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.9rem;color:#666}.attendance-bar[_ngcontent-%COMP%]{height:6px;border-radius:3px}.mat-mdc-card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem}.mat-mdc-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.mat-mdc-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}@media (max-width: 768px){.events-container[_ngcontent-%COMP%]{padding:1rem}.events-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.events-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.events-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.mat-mdc-card-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.mat-mdc-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:120px}}@media (max-width: 480px){.card-image[_ngcontent-%COMP%]{height:150px}.mat-mdc-card-actions[_ngcontent-%COMP%]{flex-direction:column}.mat-mdc-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}[_nghost-%COMP%]     .success-snackbar{background-color:#4caf50;color:#fff}"]})};export{it as EventListComponent};
