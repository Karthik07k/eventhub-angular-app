import{a as Z,b as ee}from"./chunk-UKI4BZND.js";import{a as te,b as ne,c as ie}from"./chunk-WCKCIPFR.js";import{a as K,b as Q,c as W,d as X}from"./chunk-QKAHIO55.js";import{a as Y}from"./chunk-UE3EEVB2.js";import{a as G,b as J}from"./chunk-PSIDBIZF.js";import"./chunk-3X5RHMPT.js";import{p as z,q as V,r as j,u as $,v as F}from"./chunk-IEZEXGYZ.js";import{Aa as u,Ab as D,Ac as N,Bb as I,Ca as C,Cb as B,Cc as U,Dc as L,Ea as v,Eb as A,Ec as H,Fa as s,Fc as q,Gb as T,J as g,K as m,Kb as R,Sa as M,Ta as t,Ua as c,Va as x,Z as S,_ as a,a as h,bb as f,ca as _,cb as P,db as O,e as b,ga as y,la as k,xa as p,xb as w,ya as n,z as E,za as e}from"./chunk-MQ32LSW5.js";function ae(l,o){if(l&1){let i=C();n(0,"div",3)(1,"div",4)(2,"button",5),v("click",function(){g(i);let d=s();return m(d.goBack())}),n(3,"mat-icon"),t(4,"arrow_back"),e()(),n(5,"h1",6),t(6,"Event Details"),e()(),n(7,"mat-card",7)(8,"div",8)(9,"div",9),u(10,"img",10),n(11,"div",11)(12,"mat-chip")(13,"mat-icon"),t(14),e(),t(15),f(16,"titlecase"),e()()(),n(17,"div",12)(18,"h2",13),t(19),e(),n(20,"p",14),t(21),e(),n(22,"div",15)(23,"div",16)(24,"mat-icon"),t(25,"event"),e(),n(26,"div",17)(27,"span",18),t(28,"Date"),e(),n(29,"span",19),t(30),f(31,"date"),e()()(),n(32,"div",16)(33,"mat-icon"),t(34,"schedule"),e(),n(35,"div",17)(36,"span",18),t(37,"Time"),e(),n(38,"span",19),t(39),e()()(),n(40,"div",16)(41,"mat-icon"),t(42,"location_on"),e(),n(43,"div",17)(44,"span",18),t(45,"Location"),e(),n(46,"span",19),t(47),e()()(),n(48,"div",16)(49,"mat-icon"),t(50,"category"),e(),n(51,"div",17)(52,"span",18),t(53,"Category"),e(),n(54,"span",19),t(55),e()()()()()()(),n(56,"mat-card",20)(57,"mat-card-header")(58,"mat-card-title")(59,"mat-icon"),t(60,"people"),e(),t(61," Attendance Information "),e()(),n(62,"mat-card-content")(63,"div",21)(64,"div",22)(65,"div",23)(66,"span",24),t(67),e(),n(68,"span",25),t(69,"Registered"),e()(),n(70,"div",23)(71,"span",24),t(72),e(),n(73,"span",25),t(74,"Available"),e()(),n(75,"div",23)(76,"span",24),t(77),e(),n(78,"span",25),t(79,"Total Capacity"),e()()(),n(80,"div",26)(81,"div",27)(82,"span"),t(83,"Registration Progress"),e(),n(84,"span"),t(85),e()(),u(86,"mat-progress-bar",28),e()()()(),n(87,"mat-card",29)(88,"mat-card-header")(89,"mat-card-title")(90,"mat-icon"),t(91,"info"),e(),t(92," Additional Information "),e()(),n(93,"mat-card-content")(94,"div",30)(95,"div",31)(96,"mat-icon"),t(97,"person"),e(),n(98,"div",32)(99,"span",33),t(100,"Organizer"),e(),n(101,"span",34),t(102),f(103,"titlecase"),e()()(),n(104,"div",31)(105,"mat-icon"),t(106,"calendar_today"),e(),n(107,"div",32)(108,"span",33),t(109,"Created"),e(),n(110,"span",34),t(111),f(112,"date"),e()()(),n(113,"div",31)(114,"mat-icon"),t(115,"confirmation_number"),e(),n(116,"div",32)(117,"span",33),t(118,"Event ID"),e(),n(119,"span",34),t(120),e()()()()()(),n(121,"div",35)(122,"div",36)(123,"button",37),v("click",function(){g(i);let d=s();return m(d.registerForEvent())}),n(124,"mat-icon"),t(125,"person_add"),e(),t(126),e(),n(127,"button",38),v("click",function(){g(i);let d=s();return m(d.shareEvent())}),n(128,"mat-icon"),t(129,"share"),e(),t(130," Share Event "),e()(),u(131,"mat-divider",39),n(132,"div",40)(133,"button",41),v("click",function(){g(i);let d=s();return m(d.editEvent())}),n(134,"mat-icon"),t(135,"edit"),e(),t(136," Edit Event "),e(),n(137,"button",42),v("click",function(){g(i);let d=s();return m(d.deleteEvent())}),n(138,"mat-icon"),t(139,"delete"),e(),t(140," Delete Event "),e()()()()}if(l&2){let i=s();a(10),p("src",i.event.imageUrl,S)("alt",i.event.title),a(2),M(i.getStatusClass(i.event.status)),a(2),c(i.getStatusIcon(i.event.status)),a(),x(" ",P(16,24,i.event.status)," "),a(4),c(i.event.title),a(2),c(i.event.description),a(9),c(O(31,26,i.event.date,"fullDate")),a(9),c(i.event.time),a(8),c(i.event.location),a(8),c(i.event.category),a(12),c(i.event.currentAttendees),a(5),c(i.event.maxAttendees-i.event.currentAttendees),a(5),c(i.event.maxAttendees),a(8),x("",i.getAttendancePercentage(),"%"),a(),M(i.getProgressBarClass()),p("value",i.getAttendancePercentage()),a(16),c(P(103,29,i.event.createdBy)),a(9),c(O(112,31,i.event.createdAt,"mediumDate")),a(9),x("#",i.event.id),a(3),p("disabled",!i.canRegister()),a(3),x(" ",i.getRegisterButtonText()," ")}}function re(l,o){l&1&&(n(0,"div",43)(1,"mat-icon",44),t(2,"event"),e(),n(3,"p"),t(4,"Loading event details..."),e()())}function ce(l,o){if(l&1){let i=C();n(0,"div",45)(1,"mat-icon",46),t(2,"error_outline"),e(),n(3,"h3"),t(4,"Event Not Found"),e(),n(5,"p"),t(6,"The event you're looking for doesn't exist or has been removed."),e(),n(7,"button",47),v("click",function(){g(i);let d=s();return m(d.goBack())}),n(8,"mat-icon"),t(9,"arrow_back"),e(),t(10," Back to Events "),e()()}}var oe=class l{constructor(o,i,r,d,de){this.route=o;this.router=i;this.eventService=r;this.snackBar=d;this.dialog=de}event=null;error=!1;destroy$=new b;ngOnInit(){this.loadEvent()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadEvent(){let o=this.route.snapshot.paramMap.get("id");o?this.eventService.getEventById(+o).pipe(E(this.destroy$)).subscribe({next:i=>{i?this.event=i:this.error=!0},error:()=>{this.error=!0}}):this.error=!0}getStatusClass(o){return`status-${o}`}getStatusIcon(o){switch(o){case"upcoming":return"schedule";case"ongoing":return"play_circle";case"completed":return"check_circle";case"cancelled":return"cancel";default:return"event"}}getAttendancePercentage(){return this.event?Math.round(this.event.currentAttendees/this.event.maxAttendees*100):0}getProgressBarClass(){let o=this.getAttendancePercentage();return o>=90?"progress-full":o>=70?"progress-high":o>=40?"progress-medium":"progress-low"}canRegister(){return this.event?this.event.status==="upcoming"&&this.event.currentAttendees<this.event.maxAttendees:!1}getRegisterButtonText(){return this.event?this.event.status!=="upcoming"?"Registration Closed":this.event.currentAttendees>=this.event.maxAttendees?"Event Full":"Register Now":"Register"}registerForEvent(){if(!this.canRegister()||!this.event)return;let o=h({},this.event);o.currentAttendees++,this.eventService.updateEvent(o).subscribe({next:i=>{this.event=i,this.snackBar.open("Successfully registered for the event!","Close",{duration:3e3,panelClass:["success-snackbar"]})},error:i=>{this.snackBar.open("Registration failed. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}shareEvent(){if(!this.event)return;let o=`Check out this event: ${this.event.title}`,i=window.location.href;navigator.share?navigator.share({title:this.event.title,text:o,url:i}):navigator.clipboard.writeText(`${o} - ${i}`).then(()=>{this.snackBar.open("Event link copied to clipboard!","Close",{duration:3e3})})}editEvent(){this.event&&this.router.navigate(["/events/edit",this.event.id])}deleteEvent(){if(!this.event)return;let o={title:"Delete Event",message:`Are you sure you want to delete "${this.event.title}"? This action cannot be undone.`,confirmText:"Delete Event",cancelText:"Cancel"};this.dialog.open(ie,{width:"400px",data:o,disableClose:!0}).afterClosed().subscribe(r=>{r===!0&&(this.eventService.deleteEvent(this.event.id),this.snackBar.open("Event deleted successfully","Close",{duration:3e3,panelClass:["success-snackbar"]}),this.router.navigate(["/events"]))})}goBack(){this.router.navigate(["/events"])}static \u0275fac=function(i){return new(i||l)(_(A),_(T),_(Y),_(G),_(te))};static \u0275cmp=y({type:l,selectors:[["app-event-detail"]],decls:3,vars:3,consts:[["class","event-detail-container",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"event-detail-container"],[1,"detail-header"],["mat-icon-button","",1,"back-button",3,"click"],[1,"page-title"],[1,"event-hero-card"],[1,"hero-content"],[1,"event-image-container"],[1,"event-image",3,"src","alt"],[1,"status-overlay"],[1,"event-info"],[1,"event-title"],[1,"event-description"],[1,"info-grid"],[1,"info-item"],[1,"info-content"],[1,"info-label"],[1,"info-value"],[1,"attendance-card"],[1,"attendance-info"],[1,"attendance-stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"progress-section"],[1,"progress-header"],["mode","determinate",3,"value"],[1,"details-card"],[1,"detail-grid"],[1,"detail-item"],[1,"detail-content"],[1,"detail-label"],[1,"detail-value"],[1,"action-section"],[1,"primary-actions"],["mat-raised-button","","color","primary",1,"register-button",3,"click","disabled"],["mat-raised-button","","color","accent",1,"share-button",3,"click"],[1,"action-divider"],[1,"secondary-actions"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],[1,"loading-container"],[1,"loading-icon"],[1,"error-container"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){i&1&&k(0,ae,141,34,"div",0)(1,re,5,0,"div",1)(2,ce,11,0,"div",2),i&2&&(p("ngIf",r.event),a(),p("ngIf",!r.event&&!r.error),a(),p("ngIf",r.error))},dependencies:[B,w,D,I,R,F,z,j,$,V,L,U,N,q,H,X,W,Q,K,ee,Z,J,ne],styles:[".event-detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px;background-color:#f5f5f5;min-height:100vh}.detail-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:24px;padding:16px 0}.detail-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-right:16px}.detail-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:500;margin:0;color:#1976d2}.event-hero-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:16px;overflow:hidden;box-shadow:0 8px 16px #0000001a}.event-hero-card[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{display:flex;gap:24px;padding:0}.event-hero-card[_ngcontent-%COMP%]   .event-image-container[_ngcontent-%COMP%]{position:relative;flex:0 0 400px}.event-hero-card[_ngcontent-%COMP%]   .event-image-container[_ngcontent-%COMP%]   .event-image[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;display:block}.event-hero-card[_ngcontent-%COMP%]   .event-image-container[_ngcontent-%COMP%]   .status-overlay[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px}.event-hero-card[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]{flex:1;padding:24px;display:flex;flex-direction:column;justify-content:space-between}.event-hero-card[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]   .event-title[_ngcontent-%COMP%]{font-size:32px;font-weight:600;margin:0 0 16px;color:#333;line-height:1.2}.event-hero-card[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{font-size:16px;color:#666;line-height:1.6;margin-bottom:24px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#1976d20d;border-radius:12px;border-left:4px solid #1976d2}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:12px;color:#666;text-transform:uppercase;font-weight:500;letter-spacing:.5px}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#333;margin-top:2px}.status-upcoming[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.status-ongoing[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.status-completed[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.status-cancelled[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}.attendance-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:16px;box-shadow:0 4px 8px #0000001a}.attendance-card[_ngcontent-%COMP%]   .attendance-info[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:24px}.attendance-card[_ngcontent-%COMP%]   .attendance-info[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center;padding:16px}.attendance-card[_ngcontent-%COMP%]   .attendance-info[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{display:block;font-size:36px;font-weight:700;color:#1976d2;line-height:1}.attendance-card[_ngcontent-%COMP%]   .attendance-info[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#666;text-transform:uppercase;font-weight:500;letter-spacing:.5px}.attendance-card[_ngcontent-%COMP%]   .attendance-info[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-weight:500}.progress-low[_ngcontent-%COMP%]     .mdc-linear-progress__bar-inner{border-color:#4caf50}.progress-medium[_ngcontent-%COMP%]     .mdc-linear-progress__bar-inner{border-color:#ff9800}.progress-high[_ngcontent-%COMP%]     .mdc-linear-progress__bar-inner{border-color:#ff5722}.progress-full[_ngcontent-%COMP%]     .mdc-linear-progress__bar-inner{border-color:#f44336}.details-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:16px;box-shadow:0 4px 8px #0000001a}.details-card[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px}.details-card[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#f8f9fa;border-radius:8px}.details-card[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.details-card[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.details-card[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:12px;color:#666;text-transform:uppercase;font-weight:500;letter-spacing:.5px}.details-card[_ngcontent-%COMP%]   .detail-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#333;margin-top:2px}.action-section[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:16px;box-shadow:0 4px 8px #0000001a}.action-section[_ngcontent-%COMP%]   .primary-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.action-section[_ngcontent-%COMP%]   .primary-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;height:48px;font-size:16px;font-weight:500}.action-section[_ngcontent-%COMP%]   .action-divider[_ngcontent-%COMP%]{margin:16px 0}.action-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex;gap:16px}.action-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;text-align:center;padding:48px}.loading-container[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;color:#666}.loading-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:16px 0 8px;color:#333}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:24px;max-width:400px}[_nghost-%COMP%]     .success-snackbar{background-color:#4caf50;color:#fff}@media (max-width: 768px){.event-detail-container[_ngcontent-%COMP%]{padding:16px}.detail-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:24px}.event-hero-card[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{flex-direction:column;gap:0}.event-hero-card[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .event-image-container[_ngcontent-%COMP%]{flex:none}.event-hero-card[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .event-image-container[_ngcontent-%COMP%]   .event-image[_ngcontent-%COMP%]{height:200px}.event-hero-card[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]   .event-title[_ngcontent-%COMP%]{font-size:24px}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.attendance-card[_ngcontent-%COMP%]   .attendance-stats[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.action-section[_ngcontent-%COMP%]   .primary-actions[_ngcontent-%COMP%], .action-section[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 480px){.event-detail-container[_ngcontent-%COMP%]{padding:12px}.detail-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:20px}.event-hero-card[_ngcontent-%COMP%], .attendance-card[_ngcontent-%COMP%], .details-card[_ngcontent-%COMP%], .action-section[_ngcontent-%COMP%]{border-radius:12px}}"]})};export{oe as EventDetailComponent};
